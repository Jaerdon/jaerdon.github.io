<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width">
    <title>NCodeFix</title>
</head>
<body>
	<textarea id='input' rows=20 style="height: auto; width: 80%">Insert code here</textarea>
	<br><button onclick='adjust()'><b>Adjust</b></button>
	<script type="text/javascript">
		function adjust() {
			var input = document.getElementById('input').value.match(/[^\r\n]+/g);
			var index = (input.length).length;
            for (var line = 0; line < input.length; line++) {
            	if (input[line].toLowerCase().charAt(0)=="n") {
            		console.log("foo");
            		input[line] = input[line].replace(/N[0-9]+/, "");
            	}
            	input[line] = ("N" + "0".repeat(index - line.length) + line + " " + input[line]).replace(/  /g, " ");
            }
            document.getElementById('input').value = input.join("\r\n");
		}
	</script>
	<p>Upon clicking the button, all text in the box will be reformatted with the correct N## code in front of it per line number, starting with N00.<br/>This is for use with G/M-Code parsers that require valid line number codes in front of each line.</p>
</body>
</html>